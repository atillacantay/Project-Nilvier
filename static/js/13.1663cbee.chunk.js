(this["webpackJsonpproject-nilvier"]=this["webpackJsonpproject-nilvier"]||[]).push([[13],{319:function(e,t,a){"use strict";a.r(t);var n=a(15),r=a(0),c=a.n(r),i=a(18),l=a(94),o=a(31),m=a(190),s=a(196),u=a(228),f=a(275),E=a(230),d=a(92),p=a(143),g=a(295),h=a.n(g),b=a(294),v=a.n(b),O=Object(m.a)((function(e){return Object(s.a)({gameCardRoot:{},gameCardDetails:{marginTop:e.spacing(1),display:"flex",justifyContent:"space-between"},margin:{marginLeft:e.spacing(1)}})})),j=function(e){var t=e.topGame,a=O(),i=Object(r.useState)(!1),l=Object(n.a)(i,2),m=l[0],s=l[1],g=function(){s((function(e){return!e}))},b=encodeURIComponent(t.game.name.trim());return c.a.createElement("div",{className:a.gameCardRoot},c.a.createElement(o.b,{to:"/twitch/streams/game/".concat(b)},c.a.createElement(u.a,{raised:m,onMouseEnter:g,onMouseLeave:g},c.a.createElement(f.a,null,c.a.createElement(E.a,{component:"img",alt:t.game.name,image:t.game.box.large,title:t.game.name})))),c.a.createElement("div",{className:a.gameCardDetails},c.a.createElement(d.a,{variant:"body2"},t.game.name),c.a.createElement("div",null,c.a.createElement(p.a,{display:"flex",title:"Live Streamers"},c.a.createElement(v.a,{color:"action",fontSize:"small"}),c.a.createElement(d.a,{variant:"body2",className:a.margin},t.channels)),c.a.createElement(p.a,{display:"flex",title:"Viewers"},c.a.createElement(h.a,{color:"action",fontSize:"small"}),c.a.createElement(d.a,{variant:"body2",className:a.margin},t.viewers)))))},w=a(227),y=a(250),x=Object(m.a)((function(e){return Object(s.a)({gamesRoot:{margin:e.spacing(2)},loader:{textAlign:"center"}})})),C=function(e){var t=e.topGames,a=e.isFetchingMore,n=x();return c.a.createElement("div",{className:n.gamesRoot},c.a.createElement(w.a,{container:!0,spacing:4},t.top.map((function(e){return c.a.createElement(w.a,{key:e.game._id,item:!0,xs:12,sm:6,md:4,lg:3,xl:2},c.a.createElement(j,{topGame:e}))})),a&&c.a.createElement(w.a,{item:!0,xs:12},c.a.createElement(p.a,{className:n.loader},c.a.createElement(y.a,null)))))},R=a(117),F=a(267),I=a(283),N=a(296),S=a.n(N),M=Object(m.a)((function(){return Object(s.a)({searchInput:{"& .MuiOutlinedInput-root .MuiOutlinedInput-notchedOutline":{borderColor:"#9146FF"},"& .MuiOutlinedInput-root.Mui-error .MuiOutlinedInput-notchedOutline":{borderColor:"red"}}})})),A=function(e){var t=e.value,a=e.onInputChange,n=e.textfieldRef,r=e.isSearching,i=M();return c.a.createElement(F.a,{ref:n,autoComplete:"off",value:t,variant:"outlined",className:i.searchInput,placeholder:"Search users",InputProps:{startAdornment:c.a.createElement(I.a,{position:"start"},c.a.createElement(S.a,null)),endAdornment:c.a.createElement(I.a,{position:"end"},r&&c.a.createElement(y.a,{size:24,color:"inherit"}))},onChange:a})},k=a(242),z=a(238),G=a(142),H=a(249),L=a(292),D=a(312),T=a(264),_=a(293),J=a(313),W=a(118),B=a.n(W),P=Object(m.a)((function(e){return Object(s.a)({verifiedIcon:{marginLeft:e.spacing(1),color:"#9146FF"}})})),U=function(e){var t=e.anchorEl,a=e.handleClose,n=e.channels,r=P(),i=Boolean(t),l=i?"channel-popper":void 0;return c.a.createElement(k.a,{onClickAway:a},c.a.createElement(z.a,{id:l,open:i,anchorEl:t,transition:!0},c.a.createElement(G.a,{elevation:4},c.a.createElement(H.a,{"aria-label":"channel"},n.map((function(e){return c.a.createElement(L.a,{key:e._id,button:!0,component:o.b,to:"/twitch/".concat(e.name)},c.a.createElement(D.a,null,c.a.createElement(T.a,{src:e.logo,alt:e.name})),c.a.createElement(_.a,{primary:e.name}),c.a.createElement(J.a,null,e.partner&&c.a.createElement(B.a,{className:r.verifiedIcon,fontSize:"small"})))}))))))},V=a(282),q=Object(m.a)((function(e){return Object(s.a)({twitchHeaderRoot:{},title:{fontFamily:'"Roboto", "Helvetica", "Arial", sans-serif',fontWeight:700,color:"#9146FF",margin:e.spacing(1,0)}})})),K=function(){var e=q(),t=Object(r.useRef)(null),a=Object(i.d)(),o=Object(i.e)((function(e){return e.twitch})),m=o.isSearching,s=o.searchResult,u=Object(r.useState)(""),f=Object(n.a)(u,2),E=f[0],g=f[1],h=Object(r.useState)(null),b=Object(n.a)(h,2),v=b[0],O=b[1],j=Object(R.a)(E,1e3);Object(r.useEffect)((function(){j&&a(Object(l.e)(j))}),[j]);Object(r.useEffect)((function(){s.channels.length>0&&O(t.current)}),[s]);return c.a.createElement("div",{className:e.twitchHeaderRoot},c.a.createElement(p.a,{m:2,display:"flex",justifyContent:"space-between"},c.a.createElement(d.a,{variant:"h4",className:e.title},"Twitch Top Games"),c.a.createElement(A,{onInputChange:function(e){g(e.target.value)},textfieldRef:t,isSearching:m,value:E}),c.a.createElement(U,{anchorEl:v,handleClose:function(){O(null),g("")},channels:s.channels})),c.a.createElement(V.a,null))},Q=a(314),X=function(e){var t=e.size,a=Array(t).fill(null).map((function(e,t){return t}));return c.a.createElement(w.a,{container:!0,spacing:4},a.map((function(e,t){return c.a.createElement(w.a,{key:t,item:!0,xs:12,sm:6,md:4,lg:3,xl:2},c.a.createElement(Q.a,{variant:"rect",height:411,animation:"wave"}),c.a.createElement(p.a,{pt:1,display:"flex",justifyContent:"space-between"},c.a.createElement(Q.a,{variant:"text",width:120,height:24,animation:"wave"}),c.a.createElement(p.a,null,c.a.createElement(Q.a,{variant:"text",width:70,animation:"wave"}),c.a.createElement(Q.a,{variant:"text",width:70,animation:"wave"}))))})))},Y=a(262),Z=a(116),$=Object(m.a)((function(e){return Object(s.a)({twitchRoot:{display:"flex",flexDirection:"column",height:"100%",overflow:"hidden auto"},errorAlert:{margin:e.spacing(2)},title:{fontFamily:'"Roboto", "Helvetica", "Arial", sans-serif',fontWeight:700,color:"#9146FF",margin:e.spacing(1,0)}})}));t.default=function(){var e=$(),t=Object(Z.a)(),a=Object(n.a)(t,2),o=a[0],m=a[1],s=Object(r.useState)(0),u=Object(n.a)(s,2),f=u[0],E=u[1],d=Object(i.d)(),g=Object(i.e)((function(e){return e.twitch}),i.c),h=g.isFetching,b=g.isFetchingMore,v=g.topGames,O=g.error;return Object(r.useEffect)((function(){d(Object(l.d)())}),[d]),Object(r.useEffect)((function(){o&&E(f+10)}),[o,E]),Object(r.useEffect)((function(){f&&d(Object(l.a)(f))}),[f,d]),c.a.createElement("div",{className:e.twitchRoot,ref:m},c.a.createElement(K,null),h?c.a.createElement(p.a,{m:2},c.a.createElement(X,{size:10})):!O&&v._total>0?c.a.createElement(C,{topGames:v,isFetchingMore:b}):O&&c.a.createElement(Y.a,{severity:"error",className:e.errorAlert},O))}}}]);
//# sourceMappingURL=13.1663cbee.chunk.js.map